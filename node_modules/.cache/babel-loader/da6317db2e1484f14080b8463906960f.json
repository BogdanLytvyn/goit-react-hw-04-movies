{"ast":null,"code":"var _jsxFileName = \"/home/bogdan/GIT/react/goit-react-hw-04-movies/src/components/pages/movieDetailsPage/MovieDetailsPage.js\";\nimport React, { Component } from 'react';\nimport { Route, Link, Switch } from 'react-router-dom';\nimport Cast from '../../cast/Cast';\nimport Reviews from '../../reviews/Reviews';\nimport axios from 'axios';\nimport CardMovie from '../../cardMovie/CardMovie';\nimport routes from '../../../routes';\nimport style from './MovieDetailsPage.module..scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class MovieDetailsPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      poster_path: '',\n      original_title: '',\n      overview: '',\n      genres: [],\n      vote_average: null,\n      movies: [],\n      release_date: ''\n    };\n\n    this.handleGoBack = () => {\n      var _location$state;\n\n      const {\n        location,\n        history\n      } = this.props;\n      history.push((location === null || location === void 0 ? void 0 : (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.from) || routes.home);\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      movieID\n    } = this.props.match.params;\n    const res = await axios.get(`${process.env.REACT_APP_DATA_BASEURL}/movie/${movieID}?api_key=${process.env.REACT_APP_KEY}`);\n    let movieGenres = [];\n    res.data.genres.forEach(el => {\n      movieGenres.push(' ' + el.name);\n      if (res.data.poster_path) res.data.poster_path = 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2/' + res.data.poster_path;else res.data.poster_path = 'https://sales.arecontvision.com/images/products/img_placeholder_41845_xl.jpg';\n    });\n    this.setState({ ...res.data,\n      genres: movieGenres,\n      poster_path: `https://www.themoviedb.org/t/p/w600_and_h900_bestv2${res.data.poster_path}`,\n      movies: res.data\n    });\n  }\n\n  render() {\n    var _location$state2, _location$state3;\n\n    const {\n      match,\n      location\n    } = this.props;\n    const release_datere = this.state.release_date.substring(0, 4);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.box,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonBack\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-outline-danger\",\n          onClick: this.handleGoBack,\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(CardMovie, {\n          movieCard: this.state,\n          release_datere: release_datere\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-details-item\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: {\n              pathname: `${match.url}/cast`,\n              state: {\n                from: location === null || location === void 0 ? void 0 : (_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : _location$state2.from\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-outline-dark\",\n              children: \"Cast\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-details-item\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: {\n              pathname: `${match.url}/reviews`,\n              state: {\n                from: location === null || location === void 0 ? void 0 : (_location$state3 = location.state) === null || _location$state3 === void 0 ? void 0 : _location$state3.from\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-outline-dark\",\n              children: \"Reviews\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: `${match.path}/cast`,\n            component: Cast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: `${match.path}/reviews`,\n            component: Reviews\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/bogdan/GIT/react/goit-react-hw-04-movies/src/components/pages/movieDetailsPage/MovieDetailsPage.js"],"names":["React","Component","Route","Link","Switch","Cast","Reviews","axios","CardMovie","routes","style","MovieDetailsPage","state","poster_path","original_title","overview","genres","vote_average","movies","release_date","handleGoBack","location","history","props","push","from","home","componentDidMount","movieID","match","params","res","get","process","env","REACT_APP_DATA_BASEURL","REACT_APP_KEY","movieGenres","data","forEach","el","name","setState","render","release_datere","substring","box","pathname","url","path"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Route, Link, Switch } from 'react-router-dom';\nimport Cast from '../../cast/Cast';\nimport Reviews from '../../reviews/Reviews';\nimport axios from 'axios';\nimport CardMovie from '../../cardMovie/CardMovie';\nimport routes from '../../../routes';\nimport style from './MovieDetailsPage.module..scss';\n\nexport default class MovieDetailsPage extends Component {\n  state = {\n    poster_path: '',\n    original_title: '',\n    overview: '',\n    genres: [],\n    vote_average: null,\n    movies: [],\n    release_date: '',\n  };\n\n  async componentDidMount() {\n    const { movieID } = this.props.match.params;\n\n    const res = await axios.get(\n      `${process.env.REACT_APP_DATA_BASEURL}/movie/${movieID}?api_key=${process.env.REACT_APP_KEY}`,\n    );\n    let movieGenres = [];\n    res.data.genres.forEach(el => {\n      movieGenres.push(' ' + el.name);\n      if (res.data.poster_path)\n        res.data.poster_path =\n          'https://www.themoviedb.org/t/p/w600_and_h900_bestv2/' +\n          res.data.poster_path;\n      else\n        res.data.poster_path =\n          'https://sales.arecontvision.com/images/products/img_placeholder_41845_xl.jpg';\n    });\n\n    this.setState({\n      ...res.data,\n      genres: movieGenres,\n      poster_path: `https://www.themoviedb.org/t/p/w600_and_h900_bestv2${res.data.poster_path}`,\n      movies: res.data,\n    });\n  }\n\n  handleGoBack = () => {\n    const { location, history } = this.props;\n    history.push(location?.state?.from || routes.home);\n  };\n\n  render() {\n    const { match, location } = this.props;\n    const release_datere = this.state.release_date.substring(0, 4);\n    return (\n      <div className={style.box}>\n        <div className=\"buttonBack\">\n          <button\n            type=\"button\"\n            className=\"btn btn-outline-danger\"\n            onClick={this.handleGoBack}\n          >\n            Back\n          </button>\n        </div>\n        <div>\n          <CardMovie\n            movieCard={this.state}\n            release_datere={release_datere}\n          ></CardMovie>\n        </div>\n        <ul className=\"list-details\">\n          <li className=\"list-details-item\">\n            <Link\n              to={{\n                pathname: `${match.url}/cast`,\n                state: {\n                  from: location?.state?.from,\n                },\n              }}\n            >\n              <button type=\"button\" className=\"btn btn-outline-dark\">\n                Cast\n              </button>\n            </Link>\n          </li>\n          <li className=\"list-details-item\">\n            <Link\n              to={{\n                pathname: `${match.url}/reviews`,\n                state: {\n                  from: location?.state?.from,\n                },\n              }}\n            >\n              <button type=\"button\" className=\"btn btn-outline-dark\">\n                Reviews\n              </button>\n            </Link>\n          </li>\n        </ul>\n        <div>\n          <Switch>\n            <Route path={`${match.path}/cast`} component={Cast}></Route>\n            <Route path={`${match.path}/reviews`} component={Reviews}></Route>\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}