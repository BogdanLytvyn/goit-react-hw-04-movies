{"ast":null,"code":"import _regeneratorRuntime from\"/home/bogdan/GIT/react/goit-react-hw-04-movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/bogdan/GIT/react/goit-react-hw-04-movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/bogdan/GIT/react/goit-react-hw-04-movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/bogdan/GIT/react/goit-react-hw-04-movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/bogdan/GIT/react/goit-react-hw-04-movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/bogdan/GIT/react/goit-react-hw-04-movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/bogdan/GIT/react/goit-react-hw-04-movies/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Route,Link,Switch}from'react-router-dom';import Cast from'../../cast/Cast';import Reviews from'../../reviews/Reviews';import axios from'axios';import CardMovie from'../../cardMovie/CardMovie';import routes from'../../../routes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MovieDetailsPage=/*#__PURE__*/function(_Component){_inherits(MovieDetailsPage,_Component);var _super=_createSuper(MovieDetailsPage);function MovieDetailsPage(){var _this;_classCallCheck(this,MovieDetailsPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={poster_path:'',original_title:'',overview:'',genres:[],vote_average:null,movies:[],release_date:''};_this.handleGoBack=function(){var _location$state;var _this$props=_this.props,location=_this$props.location,history=_this$props.history;history.push((location===null||location===void 0?void 0:(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.from)||routes.home);};return _this;}_createClass(MovieDetailsPage,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var movieID,res,movieGenres;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:movieID=this.props.match.params.movieID;_context.next=3;return axios.get(\"\".concat(process.env.REACT_APP_DATA_BASEURL,\"/movie/\").concat(movieID,\"?api_key=\").concat(process.env.REACT_APP_KEY));case 3:res=_context.sent;movieGenres=[];res.data.genres.forEach(function(el){movieGenres.push(' '+el.name);});this.setState(_objectSpread(_objectSpread({},res.data),{},{genres:movieGenres,poster_path:\"https://www.themoviedb.org/t/p/w600_and_h900_bestv2\".concat(res.data.poster_path),movies:res.data}));case 7:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var match=this.props.match;var release_datere=this.state.release_date.substring(0,4);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-danger w\",onClick:this.handleGoBack,children:\"Back\"}),/*#__PURE__*/_jsx(CardMovie,{movieCard:this.state,release_datere:release_datere}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"\".concat(match.url,\"/cast\"),children:\"cast\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"\".concat(match.url,\"/reviews\"),children:\"reviews\"})})]}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.path,\"/cast\"),component:Cast}),/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.path,\"/reviews\"),component:Reviews})]})]});}}]);return MovieDetailsPage;}(Component);export{MovieDetailsPage as default};","map":{"version":3,"sources":["/home/bogdan/GIT/react/goit-react-hw-04-movies/src/components/pages/movieDetailsPage/MovieDetailsPage.js"],"names":["React","Component","Route","Link","Switch","Cast","Reviews","axios","CardMovie","routes","MovieDetailsPage","state","poster_path","original_title","overview","genres","vote_average","movies","release_date","handleGoBack","props","location","history","push","from","home","movieID","match","params","get","process","env","REACT_APP_DATA_BASEURL","REACT_APP_KEY","res","movieGenres","data","forEach","el","name","setState","release_datere","substring","url","path"],"mappings":"+mCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,KAAT,CAAgBC,IAAhB,CAAsBC,MAAtB,KAAoC,kBAApC,CACA,MAAOC,CAAAA,IAAP,KAAiB,iBAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,C,gJAEqBC,CAAAA,gB,mWACnBC,K,CAAQ,CACNC,WAAW,CAAE,EADP,CAENC,cAAc,CAAE,EAFV,CAGNC,QAAQ,CAAE,EAHJ,CAINC,MAAM,CAAE,EAJF,CAKNC,YAAY,CAAE,IALR,CAMNC,MAAM,CAAE,EANF,CAONC,YAAY,CAAE,EAPR,C,OA4BRC,Y,CAAe,UAAM,qCACW,MAAKC,KADhB,CACXC,QADW,aACXA,QADW,CACDC,OADC,aACDA,OADC,CAEnBA,OAAO,CAACC,IAAR,CAAa,CAAAF,QAAQ,OAAR,EAAAA,QAAQ,SAAR,yBAAAA,QAAQ,CAAEV,KAAV,0DAAiBa,IAAjB,GAAyBf,MAAM,CAACgB,IAA7C,EACD,C,uKArBD,+JACUC,OADV,CACsB,KAAKN,KAAL,CAAWO,KAAX,CAAiBC,MADvC,CACUF,OADV,uBAEoBnB,CAAAA,KAAK,CAACsB,GAAN,WACbC,OAAO,CAACC,GAAR,CAAYC,sBADC,mBAC+BN,OAD/B,qBACkDI,OAAO,CAACC,GAAR,CAAYE,aAD9D,EAFpB,QAEQC,GAFR,eAKMC,WALN,CAKoB,EALpB,CAMED,GAAG,CAACE,IAAJ,CAASrB,MAAT,CAAgBsB,OAAhB,CAAwB,SAAAC,EAAE,CAAI,CAC5BH,WAAW,CAACZ,IAAZ,CAAiB,IAAMe,EAAE,CAACC,IAA1B,EACD,CAFD,EAIA,KAAKC,QAAL,gCACKN,GAAG,CAACE,IADT,MAEErB,MAAM,CAAEoB,WAFV,CAGEvB,WAAW,8DAAwDsB,GAAG,CAACE,IAAJ,CAASxB,WAAjE,CAHb,CAIEK,MAAM,CAAEiB,GAAG,CAACE,IAJd,IAVF,2D,mIAuBA,iBAAS,IACCT,CAAAA,KADD,CACW,KAAKP,KADhB,CACCO,KADD,CAEP,GAAMc,CAAAA,cAAc,CAAG,KAAK9B,KAAL,CAAWO,YAAX,CAAwBwB,SAAxB,CAAkC,CAAlC,CAAqC,CAArC,CAAvB,CAEA,mBACE,wCACE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,0BAFZ,CAGE,OAAO,CAAE,KAAKvB,YAHhB,kBADF,cAQE,KAAC,SAAD,EACE,SAAS,CAAE,KAAKR,KADlB,CAEE,cAAc,CAAE8B,cAFlB,EARF,cAYE,mCACE,iCACE,KAAC,IAAD,EAAM,EAAE,WAAKd,KAAK,CAACgB,GAAX,SAAR,kBADF,EADF,cAIE,iCACE,KAAC,IAAD,EAAM,EAAE,WAAKhB,KAAK,CAACgB,GAAX,YAAR,qBADF,EAJF,GAZF,cAoBE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,WAAKhB,KAAK,CAACiB,IAAX,SAAX,CAAmC,SAAS,CAAEvC,IAA9C,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,WAAKsB,KAAK,CAACiB,IAAX,YAAX,CAAsC,SAAS,CAAEtC,OAAjD,EAFF,GApBF,GADF,CA2BD,C,8BAjE2CL,S,SAAzBS,gB","sourcesContent":["import React, { Component } from 'react';\nimport { Route, Link, Switch } from 'react-router-dom';\nimport Cast from '../../cast/Cast';\nimport Reviews from '../../reviews/Reviews';\nimport axios from 'axios';\nimport CardMovie from '../../cardMovie/CardMovie';\nimport routes from '../../../routes';\n\nexport default class MovieDetailsPage extends Component {\n  state = {\n    poster_path: '',\n    original_title: '',\n    overview: '',\n    genres: [],\n    vote_average: null,\n    movies: [],\n    release_date: '',\n  };\n\n  async componentDidMount() {\n    const { movieID } = this.props.match.params;\n    const res = await axios.get(\n      `${process.env.REACT_APP_DATA_BASEURL}/movie/${movieID}?api_key=${process.env.REACT_APP_KEY}`,\n    );\n    let movieGenres = [];\n    res.data.genres.forEach(el => {\n      movieGenres.push(' ' + el.name);\n    });\n\n    this.setState({\n      ...res.data,\n      genres: movieGenres,\n      poster_path: `https://www.themoviedb.org/t/p/w600_and_h900_bestv2${res.data.poster_path}`,\n      movies: res.data,\n    });\n  }\n\n  handleGoBack = () => {\n    const { location, history } = this.props;\n    history.push(location?.state?.from || routes.home);\n  };\n\n  render() {\n    const { match } = this.props;\n    const release_datere = this.state.release_date.substring(0, 4);\n\n    return (\n      <>\n        <button\n          type=\"button\"\n          className=\"btn btn-outline-danger w\"\n          onClick={this.handleGoBack}\n        >\n          Back\n        </button>\n        <CardMovie\n          movieCard={this.state}\n          release_datere={release_datere}\n        ></CardMovie>\n        <ul>\n          <li>\n            <Link to={`${match.url}/cast`}>cast</Link>\n          </li>\n          <li>\n            <Link to={`${match.url}/reviews`}>reviews</Link>\n          </li>\n        </ul>\n        <Switch>\n          <Route path={`${match.path}/cast`} component={Cast}></Route>\n          <Route path={`${match.path}/reviews`} component={Reviews}></Route>\n        </Switch>\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}